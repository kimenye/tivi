.twelve.columns
  .loading{"data-bind" => "visible : loading"}
  .embedded-guide
    .guide{"data-bind" => "visible: !loading()"}
      %ul.topbar
        %li.previous
          %a.previous-slide{:href => "#"}
        %li.title
          %h1{'data-bind' => "text: channel_title"}
        %li.next
          %a.next-slide{:href => "#"}
    #channels{'data-bind' => 'foreach: channels'}
      .channel
        .row.border{'data-bind' => 'if: currentShow()'}
          .six.columns
            %img{:src => "../images/tivi-logo.gif"}
          .six.columns
            %h6{'data-bind' => "text: currentShow().name"}
            %p{'data-bind' => "text: currentShow().description"}
            %div.progress.six
              %span.meter{"data-bind" => "attr: { id: 'pb_' + code }"}
          .six.columns
            %span{'data-bind' => "text: currentShow().start_time"}
            %span
              to
            %span{'data-bind' => "text: currentShow().end_time"}
        .row
          .six.columns
            %img{:src => "../images/tivi-logo.gif"}
          .six.columns
            %h6{'data-bind' => "text: nextShow().name"}
            .row.border
              .six.columns
                %p{'data-bind' => "text: nextShow().description"}
              .six.columns
                %span{'data-bind' => "text: nextShow().start_time"}
                %span
                  to
                %span{'data-bind' => "text: nextShow().end_time"}
        %ul.accordion{'data-bind' => 'foreach: restOfShows()'}
          %li
            .title
              %h6
                %span{'data-bind' => "text: name"}
                %small
                  %span{'data-bind' => "text: start_time"}
                  %span
                    to
                  %span{'data-bind' => "text: end_time"}
            .content
              %p{'data-bind' => "text: description"}

%script{ 'type' => 'text/javascript', 'src' => 'javascript/guide.js'}
